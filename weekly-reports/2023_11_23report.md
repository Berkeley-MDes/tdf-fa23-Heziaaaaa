# Report 13 - Week of 11/23/2023 #

## Working Process
Since I take charge of the coding part with Python, I will mainly document the programming process in the following part. The progress is divided into five steps:
1. Send the voice recording to the OpenAI’s speech-to-text generator
2. Receive the text and sending it to ChatGPT to generate the corresponding story and DALL.E prompt
3. Receive DALL.E prompt and send it to OpenAI’s DALL.E to generate the storyboard. Receive the decoded image and save it to local laptop
4. Send the story to OpenAI’s text-to-speech generator and receive the generated audio back to local laptop
5. Display the image along with the audio for the user

---

### During this week, I worked on the first two steps of the workflow and successfully intergrated OpenAI's API with Python

## Step 1: Voice Recoding to OpenAI’s speech-to-text generator
The first step involves converting the voice recordings gathered from the user into text. Initially, I contemplated utilizing other free text-to-speech APIs, but I later found that OpenAI offered a built-in text-to-speech API, so I opted for that. 

  <p align="center">
   <img src="https://github.com/Berkeley-MDes/tdf-fa23-Heziaaaaa/blob/main/image/week-12/code_1.png" width="1000">
   </p>

Subsequently, I saved the text generated by the API to a local directory.

</br>

## Step 2: Call ChatGPT’s API
The following step entails forwarding the user's text to ChatGPT for the creation of the corresponding narrative and image. This step also required the training of a system message, which was sent alongside the user's input, akin to the process of training a custom GPT model. The system message had to fulfill the following criteria:
* Generate a story and a DALL·E prompt in a consistent format with limited word usage.
* Specify the precise image style and content within the DALL·E prompt to exert further control over the output.
* Provide a random dream scenario as a fallback in case the input text is blank or insufficient.

Below is the final version of the system message for ChatGPT:

  <p align="center">
   <img src="https://github.com/Berkeley-MDes/tdf-fa23-Heziaaaaa/blob/main/image/week-12/code_2.png" width="1000">
   </p>

The following is the python code to call the ChatGPT API:

 <p align="center">
   <img src="https://github.com/Berkeley-MDes/tdf-fa23-Heziaaaaa/blob/main/image/week-12/code_3.png" width="1000">
   </p>

  <br>
